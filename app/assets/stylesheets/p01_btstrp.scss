@use 'config' as cnfg;
@use 'bscs';

// BACKGROUND

.bg-cover {
  background-image: url("tu-imagen.jpg"); /* reemplaza por tu ruta */
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

.bg_azul_oscuro {
  background-color: cnfg.$azul_oscuro;
}

.bg_azul_claro {
  background-color: cnfg.$azul_claro;
}

.bg_gray {
	background-color: #dee2e6; /* Color personalizado */
	color: cnfg.$pltt_4;
	@include bscs.a_hover(cnfg.$pltt_4, cnfg.$pltt_5);
}

.bg_blue {
	background-color: cnfg.$ls_blue_1; /* Color personalizado */
	color: white;
	@include bscs.a_hover(white, cnfg.$pltt_5);
}

.bg_tbl {
	background-color: cnfg.$ls_blue_2; /* Color personalizado */
	color: white;
	@include bscs.a_hover(white, cnfg.$pltt_5);
}

.bg_sub_tbl {
	background-color: cnfg.$pltt_7; /* Color personalizado */
//	color: white;
	@include bscs.a_hover(black, cnfg.$pltt_5);
}

.bg-black {
  background-color: black !important;
}

.clr_azul_oscuro {
  color: cnfg.$azul_oscuro;
}

.clr_azul_principal {
  color: cnfg.$azul_principal;
}

// LINKS

.lnk_principal {
  @include bscs.a_hover(cnfg.$azul_principal, cnfg.$pltt_6);
}

.navbar_lnk {
   	@include bscs.a_hover(cnfg.$pltt_4, cnfg.$pltt_6);
}

.app_lnk {
   	@include bscs.a_hover(cnfg.$pltt_2, cnfg.$pltt_5);
}

.objt_lnk {
   	@include bscs.a_hover(cnfg.$blue_1, cnfg.$blue_3);
}

.artcl_lnk {
    @include bscs.a_hover(cnfg.$pltt_5, cnfg.$pltt_4);
}

.app_fnt {
   	font-family: cnfg.$app_fnt;
}

.fnt_arial {
   	font-family: Arial;
}

// TABLA CON LÍNEAS MÁS PEQUEÑAS

.table-ssm td, .table-smaller-cells th {
    padding: 0.10rem; /* Ajusta el valor según necesites */
}

// TXT

.txt_hght {
	line-height: 1.2;
	font-size: 35px;
}

.txt_mdm {
	line-height: 1.2;
	font-size: 25px;
}

.txt_smll {
	line-height: 1.2;
	font-size: 16px;
}

// Manejo de lo :hover de los dropdowns
.dropdown-menu .dropdown-item {
    transition: all 0.3s ease; /* Transición para efectos suaves */
}
.dropdown-menu .dropdown-item:hover {
    background: linear-gradient(90deg, cnfg.$pltt_4, cnfg.$pltt_5) !important;
    color: white !important;
    padding-left: 20px; /* Desplaza el texto */
}

.responsive-image {
  max-width: 100%;
  height: auto;
  display: block;
}

// Productos

// Textos que se desplazan en el home
/* Efecto de movimiento al hacer hover */
.hover-move-right:hover {
  transform: translateX(5px);
  transition: transform 0.3s ease;
}

/* Efecto de movimiento al hacer hover */
.icon-title-hover:hover .icon-hover,
.icon-title-hover:hover .title-hover {
  transform: translateX(5px);
  transition: transform 0.3s ease;
}

.zoom-box {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  position: relative;
  z-index: 0;
}

.zoom-box:hover {
  transform: scale(1.1);
  z-index: 10; /* lo pone por encima de los adyacentes */
  box-shadow: 0 8px 16px rgba(0,0,0,0.3);
}

.btn-grow {
  transition: transform 0.2s ease-in-out;
}

.btn-grow:hover {
  transform: scale(1.1); /* ajusta el 1.1 al tamaño que quieras */
}

// MENÚ DEL HOME

/* Base: que la navbar esté sobre la imagen */
.hero { position: relative; }
.hero .overlay-nav { position: absolute; z-index: 10; }

/* ===== MÓVIL (≤ md): SOLO ÍCONO, SIN BARRA QUE CUBRA LA IMAGEN ===== */
@media (max-width: 767.98px) {
  .hero .overlay-nav {
    /* En móvil NO queremos “barra” a lo ancho */
    top: .5rem;
    right: .5rem;
    left: auto;
    background: transparent !important;   /* quita la franja oscura */
    padding: 0 !important;
    border-radius: 0 !important;
    width: auto;                          /* nada de ocupar ancho */
  }

  /* Quita paddings del container interno de la navbar */
  .hero .overlay-nav .container-fluid { padding: 0 !important; }

  /* Oculta brand en móvil (opcional) */
  .hero .overlay-nav .navbar-brand { display: none !important; }

  /* El botón hamburguesa como “chip” pequeño en la esquina */
  .hero .overlay-nav .navbar-toggler {
    position: relative;
    z-index: 12;                 /* sobre el panel */
    padding: .25rem .4rem;
    background: rgba(0,0,0,.45); /* pequeño fondo para contraste */
    border: 1px solid rgba(255,255,255,.5);
    border-radius: .5rem;
  }

  /* El menú colapsado como panel flotante (dropdown) */
  .hero .overlay-nav .navbar-collapse {
    position: absolute !important;
    top: calc(100% + .25rem);
    right: 0;
    left: auto;
    display: none;               /* Bootstrap se encarga con .show */
    width: max(220px, 60vw);
    max-height: 50vh;            /* para que la imagen se vea completa */
    overflow: auto;
    padding: .5rem;
    background: rgba(0,0,0,.70);
    border-radius: .75rem;
    box-shadow: 0 10px 24px rgba(0,0,0,.35);
    z-index: 11;
  }

  /* Cuando está abierto */
  .hero .overlay-nav .navbar-collapse.collapse.show {
    display: block !important;
  }

  /* Dropdowns integrados en el panel */
  .hero .overlay-nav .dropdown-menu {
    position: static;
    float: none;
    background: transparent;
    border: 0;
    padding: .25rem 0;
  }

  .hero .overlay-nav .dropdown-item {
    color: #fff;
    padding: .4rem .5rem;
  }

  /* Enlaces un poco más compactos */
  .hero .overlay-nav .nav-link { padding: .35rem .5rem; white-space: nowrap; }
}

/* ===== DESKTOP (≥ md): barra normal (como ya te funcionaba) ===== */
@media (min-width: 768px) {
  .hero .overlay-nav {
    top: .75rem;
    right: .75rem;
    left: .75rem;               /* barra sobre la imagen pero delgada */
    background: rgba(0,0,0,.35);
    border-radius: .75rem;
    backdrop-filter: saturate(140%) blur(2px);
    padding: .25rem .5rem;
  }

  .hero .overlay-nav .navbar-collapse {
    position: static !important;
    display: flex !important;
    background: transparent !important;
    box-shadow: none !important;
    padding: 0 !important;
    margin: 0 !important;
    width: auto !important;
    max-height: none !important;
    overflow: visible !important;
  }
}

/* Botón hamburguesa más pequeño en móviles */
@media (max-width: 767.98px) {
  .hero .overlay-nav .navbar-toggler {
    padding: .15rem .3rem;      /* menos padding => botón más chico */
    font-size: .8rem;           /* escala general */
    border-radius: .35rem;      /* esquinas más compactas */
  }

  /* El ícono dentro del botón */
  .hero .overlay-nav .navbar-toggler-icon {
    width: 1rem;                /* ancho reducido */
    height: 1rem;               /* alto reducido */
    background-size: 1rem 1rem; /* escala del svg */
  }
}


// TICKER

.ticker {
  --ticker-speed: 40s; /* se puede sobreescribir con data-speed */
  overflow: hidden;
  position: relative;
  background: var(--bs-body-bg);
  border-top: 1px solid rgba(var(--bs-dark-rgb), .08);
  border-bottom: 1px solid rgba(var(--bs-dark-rgb), .08);
}

.ticker__track {
  display: flex;
  width: max-content;
  animation: ticker-scroll var(--ticker-speed) linear infinite;
  will-change: transform;
}

@keyframes ticker-scroll {
  from { transform: translateX(0); }
  to   { transform: translateX(-50%); } /* -50% porque duplicamos el contenido */
}

.ticker__item {
  display: inline-flex;
  align-items: center;
  gap: .5rem;
  padding: .75rem 1.25rem;
  white-space: nowrap;
  border-right: 1px solid rgba(var(--bs-dark-rgb), .08);
  font-size: clamp(.875rem, .35vw + .9rem, 1.05rem);
  cursor: pointer;
  user-select: none;
}

.ticker__item:focus-visible {
  outline: 2px solid var(--bs-primary);
  outline-offset: 2px;
  border-radius: .25rem;
}

.ticker:hover .ticker__track {
  animation-play-state: paused; /* Pausa para leer/mejor hover */
}

/* Overlay de detalle a pantalla completa */
.ticker__overlay {
  position: fixed;
  inset: 0 auto auto 0; /* top:0; left:0; width:100vw; */
  width: 100vw;
  transform: translateY(-100%);
  transition: transform .25s ease;
  background: rgba(var(--bs-dark-rgb), .98);
  color: #fff;
  z-index: 1080; /* sobre navbars/modals comunes */
  pointer-events: none;
}

.ticker__overlay.show {
  transform: translateY(0);
  pointer-events: auto;
}

/* Respeta usuarios con “reduced motion” */
@media (prefers-reduced-motion: reduce) {
  .ticker__track { animation: none; }
}

/* Opcional: reduce padding en pantallas pequeñas */
@media (max-width: 576px) {
  .ticker__item { padding: .6rem .9rem; }
}

/* Cinta desplazándose */
.ticker {
  --ticker-speed: 40s;
  overflow: hidden;
  position: relative;
  background: var(--bs-body-bg);
  border-top: 1px solid rgba(var(--bs-dark-rgb), .08);
  border-bottom: 1px solid rgba(var(--bs-dark-rgb), .08);
}
.ticker__track {
  display: flex;
  width: max-content;
  animation: ticker-scroll var(--ticker-speed) linear infinite;
  will-change: transform;
}
@keyframes ticker-scroll {
  from { transform: translateX(0); }
  to   { transform: translateX(-50%); }
}
.ticker__item {
  display: inline-flex;
  align-items: center;
  gap: .5rem;
  padding: .75rem 1.25rem;
  white-space: nowrap;
  border-right: 1px solid rgba(var(--bs-dark-rgb), .08);
  font-size: clamp(.875rem, .35vw + .9rem, 1.05rem);
  cursor: pointer;
}

/* Panel inferior (ancho completo) */
.ticker__panel {
  position: relative;
  width: 100%;
  background: var(--bs-body-bg);
  color: var(--bs-body-color);
  border-top: 1px solid rgba(var(--bs-dark-rgb), .12);
  box-shadow: 0 -4px 16px rgba(0,0,0,.05);
  z-index: 1;
}

/* Opcional: pausa el scroll cuando el mouse está sobre la cinta */
.ticker:hover .ticker__track { animation-play-state: paused; }

@media (max-width: 576px) {
  .ticker__item { padding: .6rem .9rem; }
}

/* Permite que el ítem crecido no se corte verticalmente */
.ticker {
  overflow-x: hidden;
  overflow-y: visible; /* antes estaba hidden */
}

/* Animación suave al crecer */
.ticker__item {
  position: relative;                /* para z-index */
  transition: transform .18s ease, 
              box-shadow .18s ease, 
              background-color .18s ease;
  transform-origin: center;          /* expande parejo */
  will-change: transform;
}

/* Crece al hover/foco; sube sobre sus vecinos */
.ticker__item:hover,
.ticker__item:focus-visible,
.ticker__item:active {
  transform: scale(1.14);            /* puedes dejarlo en 1.10–1.18 a gusto */
  z-index: 3;
  background-color: rgba(var(--bs-dark-rgb), .03);
  box-shadow: 0 .25rem 1rem rgba(0,0,0,.12);
  border-radius: .375rem;
}

/* En móviles, un crecimiento más sutil para no tapar tanto */
@media (max-width: 576px) {
  .ticker__item:hover,
  .ticker__item:focus-visible,
  .ticker__item:active {
    transform: scale(1.08);
  }
}

/* Si el usuario prefiere reducir movimiento, desactiva el scale */
@media (prefers-reduced-motion: reduce) {
  .ticker__item { transition: none; }
  .ticker__item:hover,
  .ticker__item:focus-visible,
  .ticker__item:active { transform: none; }
}

/* (Opcional) Pausa el scroll al pasar el cursor por la cinta */
.ticker:hover .ticker__track { 
  animation-play-state: paused; 
}

.ticker__item.is-active {
  background-color: rgba(var(--bs-dark-rgb), .04);
  border-radius: .375rem;
}

// HOVER Productos

/* Wrapper para que el mouseleave no cierre al pasar al panel (no necesario si solo abrimos/cerramos por eventos) */
.hover-wrapper {
  position: relative;
}

/* Panel que se despliega bajo el div hovered */
.hover-panel {
  display: none;         /* oculto por defecto */
  overflow: hidden;
  opacity: 0;
  max-height: 0;         /* colapsado */
  transition: opacity 200ms ease, max-height 240ms ease;
  margin-top: 0;
  position: relative;
  z-index: 11;           /* sobre el .zoom-box al abrir */
}

.hover-panel.is-open {
  display: block;
  opacity: 1;
  margin-top: .5rem;
  /* max-height lo setea Stimulus dinámicamente según el contenido */
}

/* Opcional: relieve en tarjetas dentro del panel */
.hover-panel .card {
  box-shadow: 0 4px 12px rgba(0,0,0,.12);
  border-radius: .5rem;
}

/* Si tu .zoom-box tiene z-index 10 al hacer hover, el panel debe estar por encima */
.zoom-box:hover {
  z-index: 10;
}