<div id="dynamicCarousel" class="carousel slide" data-bs-ride="carousel">

  <div class="position-absolute top-0 end-0 m-3" style="z-index: 10;">
    <%= render layout: '0p/collapse/link', locals: {label: 'Navbar', objeto: nil, tooltip: 'Menu'} do %>
      <i class="bi bi-list fs-3 text-white"></i>
    <% end %>
  </div>

  <!-- Indicadores -->
  <div class="carousel-indicators">
    <% @slides.each_with_index do |slide, index| %>
      <button type="button" 
              data-bs-target="#dynamicCarousel" 
              data-bs-slide-to="<%= index %>" 
              class="<%= 'active' if index == 0 %>"></button>
    <% end %>
  </div>

  <!-- Slides -->
  <div class="carousel-inner">
    <% @slides.each_with_index do |slide, index| %>
      <div class="carousel-item <%= 'active' if index == 0 %>">
        <%= render 'home/public/slide_content', slide: slide, index: index %>
      </div>
    <% end %>
  </div>

  <!-- Controles de navegaciÃ³n -->
  <button class="carousel-control-prev" type="button" data-bs-target="#dynamicCarousel" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Anterior</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#dynamicCarousel" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Siguiente</span>
  </button>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  var myCarousel = document.getElementById('dynamicCarousel');
  if (myCarousel) {
    var carousel = new bootstrap.Carousel(myCarousel, {
      interval: 5000, // 5 segundos entre transiciones
      wrap: true, // Permite que el carrusel vuelva al principio
      pause: 'hover' // Pausa al hacer hover
    });
  }
});
</script>