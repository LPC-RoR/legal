<div class='row justify-content-center mt-4'>
  <div class='col-md-6'>
    <div class="devise-box">

      <h4 class="text-center"><%= render partial: '0p/general/icon_text', locals: {text: "Editar #{resource_name.to_s.humanize}", gly: 'pencil', clr: 'info'} %></h4>

      <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }, 
             format: :turbo_stream, 
             data: { turbo_frame: :registration_form }) do |f| %>
        <%= render "usuarios/shared/error_messages", resource: resource %>

        <!--div class="field">
          <small><%#= f.label :email %></small><br />
          <%#= f.email_field :email, autofocus: true, autocomplete: "email" %>
        </div-->
        <div class="form-floating mb-3">
          <%= f.email_field :email, autofocus: true, autocomplete: 'email', class: 'form-control', id: 'emailInput', placeholder: 'Email' %>
          <%= f.label :email, 'Email', for: 'emailInput' %>
        </div>

        <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
          <div><small>Actualmente esperando confirmación para: <%= resource.unconfirmed_email %></small></div>
        <% end %>

        <!--div class="field">
          <small><%#= f.label 'contraseña' %> <i>(sólo si desea cambiarla)</i></small><br />
          <%#= f.password_field :password, autocomplete: "new-password" %>
          <%# if @minimum_password_length %>
            <br />
            <small><em><%#= @minimum_password_length %> caracteres mínimo</em></small>
          <%# end %>
        </div-->
        <div class="form-floating mb-3">
          <%= f.password_field :password, autocomplete: "new-password", class: 'form-control', id: 'passwordInput', placeholder: 'Password' %>
          <%= f.label :password, 'Password', for: 'passwordInput' %>
        </div>

        <!--div class="field">
          <small><%#= f.label 'confirmación de contraseña' %></small><br />
          <%#= f.password_field :password_confirmation, autocomplete: "new-password" %>
        </div-->
        <div class="form-floating mb-3">
          <%= f.password_field :password_confirmation, autocomplete: "confirm-password", class: 'form-control', id: 'passwordConfirm', placeholder: 'Password' %>
          <%= f.label :password_confirmation, 'Confirmación de password', for: 'passwordConfirm' %>
        </div>

        <!--div class="field">
          <small><%#= f.label 'contraseña actual' %> <i>(necesaria para confirmar sus cambios)</i></small><br />
          <%#= f.password_field :current_password, autocomplete: "current-password" %>
        </div-->
        <div class="form-floating mb-3">
          <%= f.password_field :current_password, autocomplete: "current-password", class: 'form-control', id: 'passwordCurrent', placeholder: 'Password' %>
          <%= f.label :current_password, 'Pasword actual', for: 'passwordCurrent' %>
        </div>

        <div class="mb-3">
          <%= f.submit "Actualizar" %>
        </div>
      <% end %>

</br>

      <h5><%= render partial: '0p/general/icon_text', locals: {text: "Cancelar mi cuenta", gly: 'emoji-frown', clr: 'info'} %></h5>

      <p><%= button_to "Cancelar mi cuenta", registration_path(resource_name), data: { confirm: "Está usted seguro?" }, method: :delete %></p>

      <%#= link_to "Home", root_path %>

    </div>
  </div>
</div>