<% orgn   ||= nil %>
<% data   ||= {} %>
<% target ||= nil %>
<% tltp   ||= nil %>
<% clss   ||= nil %>

<% sgn    ||= nil %>
<% ownr   ||= nil %>
<% blngs  ||= nil %>

<% lnk_completo = (ownr || blngs) ? "#{lnk}#{ownr_prms(ownr, sgn == 'q') if ownr}#{blngs_prms(blngs, sgn == 'q') if blngs}" : lnk %>
<%# 
  default_data = {
    toggle: 'tooltip',
    placement: 'right'
  }
  combined_data = default_data.merge(data)
%>

<%#= link_to lnk, data: combined_data, target: target, title: tltp do %>
    <%# yield %>
<%# end %>


<% default_data = { toggle: 'tooltip', placement: 'right' } %>
<% extra_opts   = {
      bs_toggle: :tooltip,
      bs_placement: :top,
      bs_title: tltp,
      bs_custom_class: 'custom-tooltip'
    } %>
<% combined = default_data.merge(data).merge(extra_opts) %>

<%= link_to lnk_completo, class: clss, target: target, orgn: orgn, data: combined do %>
  <% yield %>
<% end %>